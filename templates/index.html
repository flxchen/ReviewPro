<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Review Reply Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{url_for('static',filename='css/feedback.css')}}"
    />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <div class="alert alert-info text-center" role="alert">
        <strong>Note:</strong> This is an Minimal Viable Product to test market
        response. The full product will include features such as connecting to
        review platforms, auto-replying to user reviews, and review analytics.
        Please leave a comment.
      </div>

      <div class="card shadow-lg p-4">
        <h2 class="mb-4 text-center">AI Review Reply Generator</h2>
        <form id="reviewForm" class="needs-validation" novalidate>
          <!-- Review Text -->
          <div class="mb-3">
            <label for="review" class="form-label">Customer Review</label>
            <textarea
              class="form-control"
              id="review"
              name="review"
              rows="5"
              maxlength="1000"
              placeholder="Enter the customer review..."
              required
            ></textarea>
            <div class="invalid-feedback">
              Review is required and cannot exceed 1000 characters.
            </div>
          </div>

          <!-- Tone -->
          <div class="mb-3">
            <label for="tone" class="form-label">Tone</label>
            <select class="form-select" id="tone" name="tone" required>
              <option value="professional">Professional</option>
              <option value="friendly">Friendly</option>
              <option value="casual">Casual</option>
            </select>
          </div>

          <!-- Reply Word Length -->
          <div class="mb-3">
            <label for="words" class="form-label">Reply Length</label>
            <select class="form-select" id="words" name="words" required>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
          </div>

          <!-- Optional Instruction -->
          <div class="mb-3">
            <label for="instruction" class="form-label"
              >Additional instruction (optional)</label
            >
            <input
              type="text"
              class="form-control"
              id="instruction"
              name="instruction"
              maxlength="200"
            />
          </div>

          <!-- Submit -->
          <button id="generateBtn" type="submit" class="btn btn-primary w-100">
            Generate Reply
          </button>
          <span id="spinner" style="display: none">⏳ Generating...</span>
        </form>

        <!-- Reply Output -->
        <div class="mt-4">
          <h5>Generated Reply:</h5>
          <pre
            id="replyOutput"
            class="bg-white p-3 border rounded"
            style="
              min-height: 100px;
              white-space: pre-wrap;
              word-wrap: break-word;
              word-break: break-word;
            "
          ></pre>
        </div>
        <button
          id="copyButton"
          class="btn btn-outline-primary btn-sm mt-2"
          onclick="copyReply()"
          disabled
        >
          Copy Reply
        </button>
      </div>
      <div class="feedback py-5">
        <!--feedback form-->
        <button class="btn-feedback" id="feedbackBtn">Give Feedback</button>
        <div id="feedbackModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <form id="feedbackForm" class="needs-validation" novalidate>
              <h2>Product Feedback</h2>

              <label for="enjoy"
                >Do you enjoy using the auto-reply product?</label
              >
              <select id="enjoy" name="enjoy">
                <option value="">-- Select --</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
                <option value="neutral">Neutral</option>
              </select>

              <label for="improvement"
                >Any improvements you’d like to see?</label
              >
              <textarea
                id="improvement"
                class="form-control"
                name="improvement"
                rows="4"
                maxlength="1000"
                required
              ></textarea>
              <div class="invalid-feedback">
                improvement is required and cannot exceed 1000 characters.
              </div>
              <label>Would you pay for it?</label>
              <select id="pay" name="pay">
                <option value="">-- Select --</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
                <option value="maybe">Maybe</option>
              </select>

              <label>If yes, how would you prefer to pay?</label>
              <select id="payment_type" name="payment_type">
                <option value="">-- Select --</option>
                <option value="per_use">Per use</option>
                <option value="monthly">Monthly subscription</option>
                <option value="other">Other</option>
              </select>

              <label for="amount">If so, how much would you pay?</label>
              <input type="text" id="amount" name="amount" maxlength="100" />

              <button
                class="btn btn-outline-primary btn-sm mt-4"
                type="submit"
                id="feedbackSubmitBtn"
              >
                Submit Feedback
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script src="{{url_for('static',filename='js/generateReview.js')}}"></script>
    <script src="{{url_for('static',filename='js/feedback.js')}}"></script>
  </body>
</html>
